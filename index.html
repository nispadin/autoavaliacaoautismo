<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Autoavalia√ß√£o de Autismo - Triagem</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 800px;
      margin: auto;
      padding: 20px;
      background: #f0f4f8;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
    }
    .announcement {
      background-color: #fff3cd;
      color: #856404;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border: 1px solid #ffeeba;
      text-align: center;
      font-weight: 500;
    }
    .question, .user-info {
      background: #fff;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      display: none;
    }
    .question p {
      margin-bottom: 15px;
      font-weight: 500;
      font-size: 1rem;
    }
    label {
      display: block;
      margin-bottom: 12px;
      cursor: pointer;
      font-size: 1rem;
    }
    input[type="text"], input[type="email"] {
      width: 95%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }
    button {
      padding: 12px 25px;
      margin-top: 20px;
      cursor: pointer;
      border: none;
      background: #3498db;
      color: white;
      border-radius: 8px;
      font-size: 16px;
      transition: 0.3s
    }
    button:hover { background: #2980b9; }
    .progress-container {
      background: #e0e0e0;
      border-radius: 20px;
      height: 20px;
      margin-bottom: 20px;
      overflow: hidden;
      display: none;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background: #3498db;
      border-radius: 20px;
      transition: width 0.3s;
    }
    .result {
      margin-top: 30px;
      padding: 25px;
      border-radius: 12px;
      background: #fff;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      text-align: center;
      display: none;
    }
    .whatsapp-btn, .instagram-btn {
      border-radius: 50px;
      padding: 12px 20px;
      font-size: 16px;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      border: none;
      cursor: pointer;
      text-decoration: none;
      transition: 0.3s;
      margin-top: 15px;
    }
    .whatsapp-btn { background-color: #56bd7d; color: white; }
    .whatsapp-btn:hover { background-color: #1ebe57; }
    .instagram-btn { background-color: #913be7; color: white; }
    .instagram-btn:hover { background-color: #6600cc; }
    @media(max-width:600px){
      body { padding: 15px; }
      .question p, label { font-size: 0.95rem; }
      button, .whatsapp-btn, .instagram-btn { font-size: 14px; padding: 10px 18px; }
    }
    .instagram-icon::before { content: "üì∏"; }
  </style>
</head>
<body>
  <h1>Autoavalia√ß√£o de Autismo - Triagem</h1>

  <div class="announcement">
    ‚ö†Ô∏è Este teste √© apenas uma triagem e <strong>n√£o substitui avalia√ß√£o m√©dica profissional</strong>.
  </div>

  <div style="text-align:center;">
    <button id="startBtn">Iniciar Teste</button>
  </div>

  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div id="quizContainer" class="question"></div>
  <div style="text-align:center;">
    <button id="nextBtn" style="display:none;">Pr√≥xima</button>
  </div>

  <!-- Campos de Nome e Email -->
  <div id="userInfo" class="user-info">
    <p>Para ver o resultado, preencha seu nome e e-mail:</p>
    <input type="text" id="userName" placeholder="Nome" required>
    <input type="email" id="userEmail" placeholder="E-mail" required>
    <button id="submitUser">Ver Resultado</button>
  </div>

  <div id="result" class="result"></div>

  <script>
    const questions = [
      "Gosto mais de fazer coisas sozinho do que com outras pessoas.",
      "Prefiro seguir rotinas fixas no meu dia a dia.",
      "Costumo notar pequenos detalhes que outros n√£o percebem.",
      "Tenho dificuldade em entender o que os outros est√£o pensando ou sentindo.",
      "Gosto de colecionar ou organizar coisas de forma repetitiva.",
      "Me sinto desconfort√°vel em situa√ß√µes sociais novas.",
      "Tenho interesse intenso em um assunto espec√≠fico.",
      "Prefiro ambientes tranquilos a lugares barulhentos e cheios.",
      "Tenho dificuldade em mudar meus planos de repente.",
      "Costumo interpretar frases de forma muito literal.",
      "Evito contato visual durante conversas.",
      "Gosto de repetir movimentos ou comportamentos.",
      "Sinto dificuldade em iniciar ou manter uma conversa.",
      "Prefiro conversar sobre fatos do que sobre sentimentos.",
      "Me sinto exausto ap√≥s intera√ß√µes sociais longas.",
      "Meus interesses podem parecer incomuns ou muito espec√≠ficos para outras pessoas.",
      "Sinto que n√£o entendo bem as regras sociais impl√≠citas.",
      "Tenho dificuldade em imaginar como os outros se sentem.",
      "Prefiro tarefas l√≥gicas e detalhadas a atividades criativas em grupo.",
      "Sinto ansiedade em situa√ß√µes sociais desconhecidas."
    ];

    const quizContainer = document.getElementById("quizContainer");
    const nextBtn = document.getElementById("nextBtn");
    const startBtn = document.getElementById("startBtn");
    const resultDiv = document.getElementById("result");
    const progressBar = document.getElementById("progressBar");
    const progressContainer = document.querySelector(".progress-container");
    const userInfo = document.getElementById("userInfo");
    const submitUser = document.getElementById("submitUser");

    let currentQuestion = 0;
    let score = 0;

    function showQuestion(index) {
      quizContainer.innerHTML = `
        <p>${index + 1}. ${questions[index]}</p>
        <label><input type="radio" name="answer" value="2"> Concordo totalmente</label>
        <label><input type="radio" name="answer" value="1"> Concordo um pouco</label>
        <label><input type="radio" name="answer" value="0"> Discordo</label>
      `;
      quizContainer.style.display = "block";
      nextBtn.style.display = "inline-block";

      const percent = ((index) / questions.length) * 100;
      progressBar.style.width = percent + "%";
    }

    function calculateResult(userName, userEmail) {
      let resultText = "";
      if (score <= 13) {
        resultText = "Baixo risco de tra√ßos de autismo. Continue observando seu comportamento.";
      } else if (score <= 26) {
        resultText = "Risco moderado de tra√ßos de autismo. Pode ser √∫til conversar com um profissional.";
      } else {
        resultText = "Risco elevado de tra√ßos de autismo. Recomenda-se procurar avalia√ß√£o especializada.";
      }

      let mensagem = encodeURIComponent(
        `Ol√° ${userName}, sua pontua√ß√£o no teste de triagem para autismo foi ${score} pontos.`
      );
      let numero = "5511948215271";
      let linkWhatsApp = "https://wa.me/" + numero + "?text=" + mensagem;
      let linkInstagram = "https://www.instagram.com/universo.autistico/";

      resultDiv.innerHTML = `
        <h2>Resultado</h2>
        <p>${userName}, sua pontua√ß√£o foi: ${score} de 40 pontos.</p>
        <p>${resultText}</p>
        <a href="${linkWhatsApp}" target="_blank" class="whatsapp-btn">üì± WhatsApp</a><br>
        <a href="${linkInstagram}" target="_blank" class="instagram-btn">üì∏ Instagram @universo.autistico ‚àû</a>
      `;
      resultDiv.style.display = "block";
      quizContainer.style.display = "none";
      nextBtn.style.display = "none";
      progressContainer.style.display = "none";
      userInfo.style.display = "none";
    }

    nextBtn.addEventListener("click", () => {
      const selected = document.querySelector('input[name="answer"]:checked');
      if (!selected) { alert("Por favor, selecione uma resposta."); return; }
      score += parseFloat(selected.value);
      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion(currentQuestion);
      } else {
        quizContainer.style.display = "none";
        nextBtn.style.display = "none";
        userInfo.style.display = "block"; // mostra campos de nome/email
      }
    });

    submitUser.addEventListener("click", () => {
      const name = document.getElementById("userName").value.trim();
      const email = document.getElementById("userEmail").value.trim();
      if (!name || !email) {
        alert("Por favor, preencha nome e e-mail para ver o resultado.");
        return;
      }
      calculateResult(name, email);
    });

    startBtn.addEventListener("click", () => {
      startBtn.style.display = "none";
      progressContainer.style.display = "block";
      showQuestion(currentQuestion);
    });
  </script>
</body>
</html>
